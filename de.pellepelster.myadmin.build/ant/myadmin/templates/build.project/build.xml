<project name="@ant.project.name@" xmlns:ivy="antlib:org.apache.ivy.ant" default="publish.all">

	<import file="@ant.common.file@" />


	<target name="buildlist">

		<ivy:buildlist settingsref="ivy.settings" reference="build.path">
			<fileset dir="../">
				<include name="@organisation.name@.@project.name@.*/build.xml" />
			</fileset>
		</ivy:buildlist>
	</target>

	<target name="publish.all" depends="buildlist">
		<antcall target="info" />
		<subant target="publish" buildpathref="build.path" />
	</target>

	<target name="clean.all" depends="buildlist">
		<subant target="clean" buildpathref="build.path" />
	</target>

	<target name="clean" depends="clean.all">
		<delete dir="repository" />
		<ivy:cleancache />
	</target>

</project>

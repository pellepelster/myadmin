<project name="MyAdminProjectBuildBootstrap" xmlns:ivy="antlib:org.apache.ivy.ant" default="bootstrap">

	<dirname property="bootstrap.imported.basedir" file="${ant.file.MyAdminProjectBuildBootstrap}" />

	<property name="bootstrap.ivy.temp.file" value="${java.io.tmpdir}/${ant.project.name}_ivy.xml" />
	<property name="bootstrap.ivy.settings.temp.file" value="${java.io.tmpdir}/${ant.project.name}_ivysettings.xml" />
	<property name="bootstrap.lib.dir" value="${bootstrap.imported.basedir}/../../lib-bootstrap" />
	
	<ivy:settings id="ivy.settings" file="${bootstrap.imported.basedir}/ivysettings.xml" />

	<target name="write.ivy.files">
		<echo file="${bootstrap.ivy.temp.file}" message="@bootstrap.ivy.escaped@" append="false" />
		<echo file="${bootstrap.ivy.settings.temp.file}" message="@bootstrap.ivy.settings.escaped@" append="false" />
	</target>

	
	<target name="resolve" depends="write.ivy.files">
		<ivy:settings id="bootstrap.ivy.settings" file="${bootstrap.ivy.settings.temp.file}" />

		<ivy:resolve settingsref="bootstrap.ivy.settings" file="${bootstrap.ivy.temp.file}" checkifchanged="true" conf="default" />
		<ivy:retrieve settingsref="bootstrap.ivy.settings" overwriteMode="always" pattern="${bootstrap.lib.dir}/[artifact]-[type].[ext]" conf="default" />
		
		<ant antfile="MyAdminProjectTemplates.xml">
			 <property name="overwrite" value="false"/>
		</ant>
		
	</target>

	<target name="bootstrap" depends="resolve">
		<ant antfile="MyAdminProjectTemplates.xml">
			 <property name="overwrite.all" value="false"/>
		</ant>
	</target>

	<target name="bootstrap.overwrite.all" depends="resolve">
		<ant antfile="MyAdminProjectTemplates.xml">
			 <property name="overwrite.all" value="true"/>
		</ant>
	</target>

	<target name="unzip">
		<unzip src="${file}" dest="${basedir}" overwrite="true" />
	</target>

</project>
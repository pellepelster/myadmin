<project name="BaseClientTest" xmlns:ivy="antlib:org.apache.ivy.ant">

	<dirname property="BaseClientTest.imported.basedir" file="${ant.file.BaseClientTest}" />
	<import file="${BaseClientTest.imported.basedir}/BaseCommon.xml" />

	<macrodef name="gwt.test">

		<attribute name="test.suite.name" />
		
		<sequential>

			<delete dir="${test.dir}" />
			<mkdir dir="${test.dir}" />

			<junit printsummary="yes" newenvironment="yes" haltonfailure="yes" fork="true" showoutput="true">

				<classpath refid="lib.src.path.id" />
				<classpath>
					<fileset dir="${build.dir}" includes="*.jar" />
				</classpath>

				<formatter type="xml" />

				<test name="${test.suite.name}" haltonfailure="yes" outfile="${test.dir}/${test.suite.name}" />

			</junit>

		</sequential>
	</macrodef>

</project>
